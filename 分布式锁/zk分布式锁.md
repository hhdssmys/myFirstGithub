#### 参考：
 1. [ZooKeeper分布式锁的实现原理](https://juejin.im/post/5c01532ef265da61362232ed)
 2. [分布式锁之Zookeeper](https://mp.weixin.qq.com/s?__biz=MzAwNDA2OTM1Ng==&mid=2453141835&idx=1&sn=ff0867c9f5ecec9ea8187a21ef7edb2c&scene=21#wechat_redirect)
#### 原理：  
1. 客户端创建某节点下的 临时顺序子节点  
2. 判断当前节点是否是最小子节点：是，加锁成功；  
3. 否，找出上个顺序子节点，客户端在此子节点上添加监听器（节点删除触发），加锁失败阻塞或自旋或其他  
4. 解锁，删除子节点，通知此处的监听器，触发下一次的成功加锁  

#### 注意： 
1. 节点的唯一性：加锁的根本条件
2. 临时节点的意义：客户端未解锁时断开连接，没有显性的解锁操作，但是可以实际解锁，不会一直占用资源，发生死锁  
3. 顺序子节点的意义：加锁失败的节点要监听加锁加点，如果过多资源都监听一个节点时，通知的压力很大，羊群效应，顺序子节点，监听上一个节点，通知压力不大，顺序性由 zk 维护  
