#### 转载于[Rocketmq整体分析](https://www.cnblogs.com/mantu/p/6108645.html)  
读队列数量和写队列数量可以不一致：当我们使用 updateTopic 命令创建 topic 时，会发现新建的 topic 下会有默认的8个写队列和8个读队列(依赖于配置)，并且读队列的数量和写队列的数量还可以不一致，这是为什么呢？<B>难道在底层读写队列是在物理上分离的吗？</B>抱着这个问题，我分析了相关的源代码，<B>发现底层代码对于读写队列指的都是同一个队列，其中写队列的数量是针对的 producer，读队列的数量针对的是 consumer：</B>    
1. 假设写队列有8个、读队列有4个，那么producer产生的消息会按轮训的方式<B>写入到8个队列中，但是consumer却只能消费前4个队列</B>，只有把读队列重新设置为8后，consumer可以继续消费后4个队列的历史消息；
2. 假设写队列有4个、读队列有8个，那么producer产生的消息会按轮训的方式<B>写入到4个队列中，但是consumer却能消费8个队列，只是后4个队列没有消息可以消费罢了</B>。
