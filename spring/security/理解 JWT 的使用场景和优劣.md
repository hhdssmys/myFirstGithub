#### 转载于[理解 JWT 的使用场景和优劣](https://www.cnkirito.moe/jwt-learn-3/)

#### 加密与签名
1. 既然是加密，自然是不希望别人知道我的消息，只有我自己才能解密，所以 公钥负责加密，私钥负责解密 。这是大多数的使用场景，使用 rsa 来加密。  
2. 既然是签名，自然是希望别人不能冒充我发消息，只有我才能发布签名，所以 私钥负责签名，公钥负责验证   
  
#### 使用 jwt 做单点登录 + 会话管理的弊端 (不推荐)  
1. 注销和修改密码      
传统的 session+cookie 方案用户点击注销，服务端清空 session 即可，因为状态保存在服务端。但 jwt 的方案就比较难办了，因为 jwt 是无状态的，服务端通过计算来校验有效性。没有存储起来，所以即使客户端删除了 jwt，但是该 jwt 还是在有效期内，只不过处于一个游离状态。分析下痛点：注销变得复杂的原因在于 jwt 的无状态。我提供几个方案，视具体的业务来决定能不能接受  
2. 续签问题    
续签问题可以说是我抵制使用 jwt 来代替传统 session 的最大原因，因为 jwt 的设计中我就没有发现它将续签认为是自身的一个特性。传统的 cookie 续签方案一般都是框架自带的，session 有效期 30 分钟，30 分钟内如果有访问，session 有效期被刷新至 30 分钟。而 jwt 本身的 payload 之中也有一个 exp 过期时间参数，来代表一个 jwt 的时效性，而 jwt 想延期这个 exp 就有点身不由己了，因为 payload 是参与签名的，一旦过期时间被修改，整个 jwt 串就变了，jwt 的特性天然不支持续签！  
